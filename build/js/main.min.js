"use strict";document.addEventListener("DOMContentLoaded",(function(){function e(e){return document.querySelector(e)}function t(e){return document.querySelectorAll(e)}function s(e){new Swiper(e,{speed:400,pagination:{el:".swiper-pagination",type:"bullets",clickable:"true"},navigation:{nextEl:".button-next",prevEl:".button-prev"}})}function i(){const e=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;return e>900?4:e>710?3:e>520?2:1}function o(){const s=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,o=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,l=t(".cart__item");if(s>520||o>760){e(".cart__slider").classList.add("swiper"),e(".cart__swiper-wrapper").classList.add("swiper-wrapper"),e(".cart__slider .swiper-dots").style.display="flex";for(let e of l)e.classList.add("swiper-slide");return new Swiper(".cart__slider",{speed:400,pagination:{el:".swiper-pagination",type:"bullets",clickable:"true"},navigation:{nextEl:".button-next",prevEl:".button-prev"},grid:{rows:i(),fill:"row"},spaceBetween:20,breakpoints:{320:{slidesPerView:1},761:{slidesPerView:2}}})}e(".cart__swiper-wrapper").classList.remove("swiper-wrapper"),e(".cart__slider").classList.remove("swiper"),e(".cart__slider .swiper-dots").style.display="none";for(let e of l)e.classList.remove("swiper-slide")}s(".hero__slider"),s(".details-photo-slider__slider"),o();const l=e(".overlay"),r=t(".popap"),a=t(".js-close");function c(){if(e(".product-details.popap--active")&&e(".details-photo-slider.popap--active"))e(".details-photo-slider").classList.remove("popap--active"),e(".product-details").style.opacity=1;else if(e(".details-photo-slider.popap--active")&&e(".cart.popap--active"))e(".details-photo-slider").classList.remove("popap--active"),e(".cart").style.opacity=1;else{for(let e of r)e.classList.remove("popap--active"),e.style.opacity=1;l.classList.remove("overlay--active"),l.classList.remove("overlay--pazzle")}}window.addEventListener("keydown",(function(e){"Escape"===e.key&&c()})),l.addEventListener("click",()=>c());for(const e of a)e.addEventListener("click",()=>c());if(e(".quantity__item--plus")){const e=t(".quantity__item--plus"),s=t(".quantity__item--minus");for(let t of e)t.addEventListener("click",(function(){let e=t.closest(".quantity").querySelector(".quantity__item--input");e.value=Number(e.value)+1}));for(let e of s)e.addEventListener("click",(function(){let t=e.closest(".quantity").querySelector(".quantity__item--input");Number(t.value)>0&&(t.value=Number(t.value)-1)}))}if(e(".fly__list")){const e=t(".fly__list"),s=(e,t)=>Math.floor(Math.random()*(t-e+1))+e;for(let t of e){const e=window.screen.availWidth;let i;i=e>850?s(5,8):e>550?s(2,5):t.availHeight<250?2:5;for(let e=0;e<i;e++)t.insertAdjacentHTML("beforeend",'<span class="fly__item"></span>')}for(let t of e){const e=t.querySelectorAll(".fly__item");let i=100/e.length,o=7;e<4&&(o=20);for(let t of e)t.style.setProperty("--left",s(i-100/e.length-4,i-o)+"%"),t.style.setProperty("--top",s(-2,85)+"%"),t.style.setProperty("--deg",s(0,360)+"deg"),i+=100/(e.length+1)}}const n=e(".header .burger"),d=e(".header__mobile");n.addEventListener("click",(function(){this.classList.toggle("burger--close"),d.classList.toggle("header__mobile--show")})),d.addEventListener("click",(function(){this.classList.remove("header__mobile--show")}));const p=e(".header");let u,f=0;window.addEventListener("scroll",(function(){u=window.scrollY,u>150?p.classList.add("header--scroll"):p.classList.remove("header--scroll"),f<u&&f>500&&!e(".header__mobile--show")?(p.classList.add("header--hide"),f=u):(p.classList.remove("header--hide"),f=u)}));const v=t(".js-show-product-details");for(let t of v)t.addEventListener("click",()=>{l.classList.add("overlay--active"),e(".product-details").classList.add("popap--active")});const w=e(".product-details__inner");let y=0;function _(){const e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,t=w.querySelectorAll("li");if(e<800){w.classList.add("swiper"),w.querySelector("ul").classList.add("swiper-wrapper");for(const e of t)e.classList.add("swiper-slide");y||s(".product-details__inner"),w.querySelector("article").style.height=w.querySelector(".product-details__info").offsetHeight+"px",y=1}else{w.classList.remove("swiper"),w.querySelector("ul").classList.remove("swiper-wrapper"),w.querySelector("article").style.height="unset";for(const e of t)e.classList.remove("swiper-slide"),e.style.width="auto";y=0}}if(_(),window.addEventListener("resize",(function(e){_(),o()}),!0),e(".js-photo-slider")){const s=t(".js-photo-slider"),i=e(".details-photo-slider"),o=i.querySelectorAll(".burger");e(".product-details");for(const e of s)e.addEventListener("click",()=>{i.classList.add("popap--active"),l.classList.add("overlay--active"),e.closest(".popap")&&(e.closest(".popap").style.opacity=.4)});for(const e of o)e.addEventListener("click",()=>{c()})}const m=t(".small-card__del"),L=t(".small-card__esc");for(const e of m)e.addEventListener("click",()=>e.closest(".small-card").classList.add("small-card--delete"));for(const e of L)e.addEventListener("click",()=>e.closest(".small-card").classList.remove("small-card--delete"));e(".js-arrange").addEventListener("click",()=>{e(".cart__form-wrap").classList.toggle("cart__form-wrap--active"),e(".cart__goods").classList.toggle("cart__goods--hide")});const h=t(".js-cart"),g=t(".js-to-goods");for(const t of h)t.addEventListener("click",()=>{e(".cart").classList.add("popap--active"),e(".overlay").classList.add("overlay--active"),e(".overlay").classList.add("overlay--pazzle")});for(const e of g)e.addEventListener("click",()=>c());const E=[].slice.call(document.querySelectorAll('a[href*="#"]'));if(E.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();let s=document.querySelector(e.getAttribute("href")).getBoundingClientRect().top+window.pageYOffset,i=setInterval((function(){Math.abs(window.pageYOffset-s)<6?(window.scrollTo(0,s),clearInterval(i)):6<window.pageYOffset-s?window.scrollBy(0,-6):6>window.pageYOffset-s&&window.scrollBy(0,6)}),5)}))})),e(".cart")){e(".cart").addEventListener("submit",t=>{t.preventDefault(),c(),l.classList.add("overlay--active"),e(".thanks").classList.add("popap--active")})}}));
//# sourceMappingURL=../sourcemaps/main.min.js.map
